(this.webpackJsonpreactadmin=this.webpackJsonpreactadmin||[]).push([[0],{316:function(e,t){e.exports.backendUrl="http://142.93.115.206:3002",e.exports.webUrl="http://142.93.115.206:3002/",e.exports.port=3e3},362:function(e,t,a){e.exports=a(534)},367:function(e,t,a){},534:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(16),o=a.n(c),s=(a(367),a(618)),i=a(617),l=a(312),u=a.n(l),m=a(628),d=a(632),E=a(619),f=a(620),p=a(602),b=a(603),g=a(630),h=function(e){return n.a.createElement(m.a,e,n.a.createElement(d.a,{label:"Search",source:"customfilter",alwaysOn:!0}))},j=a(631),v=a(624),O=a(621),k=a(623),y=function(e,t){return"/sema/users/admin"},P=a(622),w=a(333),x=a(605),S=function(e){return n.a.createElement(w.a,e,n.a.createElement(x.a,null))},C=function(e,t){return"/sema/users/admin"},I={name:"sema/users/admin",options:{label:"Users"},icon:u.a,list:function(e){return n.a.createElement(E.a,Object.assign({title:"Users"},e,{perPage:100,filters:n.a.createElement(h,null)}),n.a.createElement(f.a,{rowClick:"edit"},n.a.createElement(p.a,{source:"id"}),n.a.createElement(p.a,{source:"firstName"}),n.a.createElement(p.a,{source:"lastName"}),n.a.createElement(p.a,{source:"username"}),n.a.createElement(b.a,{source:"email"}),n.a.createElement(g.a,{source:"role",reference:"sema/roles/admin/all",link:!1},n.a.createElement(p.a,{source:"authority"})),n.a.createElement(g.a,{source:"kiosk",reference:"sema/kiosks/admin/all",link:!1},n.a.createElement(p.a,{source:"name"}))))},create:function(e){return n.a.createElement(j.a,Object.assign({title:"Register User"},e),n.a.createElement(v.a,{redirect:y},n.a.createElement(d.a,{source:"firstName"}),n.a.createElement(d.a,{source:"lastName"}),n.a.createElement(d.a,{source:"username"}),n.a.createElement(d.a,{source:"password"}),n.a.createElement(O.a,{label:"Franchise",source:"kiosk",reference:"sema/kiosks/admin/all"},n.a.createElement(k.a,{optionText:"name"})),n.a.createElement(d.a,{source:"email"}),n.a.createElement(O.a,{label:"Role",source:"role",reference:"sema/roles/admin"},n.a.createElement(k.a,{optionText:"authority"}))))},edit:function(e){return n.a.createElement(P.a,Object.assign({title:"Edit User"},e),n.a.createElement(v.a,{toolbar:n.a.createElement(S,null),redirect:C},n.a.createElement(d.a,{source:"firstName"}),n.a.createElement(d.a,{source:"lastName"}),n.a.createElement(d.a,{source:"username"}),n.a.createElement(d.a,{source:"email"}),n.a.createElement(O.a,{label:"Franchise",source:"kiosk",reference:"sema/kiosks/admin/all"},n.a.createElement(k.a,{optionText:"name"})),n.a.createElement(O.a,{label:"Role",source:"role",reference:"sema/roles/admin/all"},n.a.createElement(k.a,{optionText:"authority"}))))}},T=a(610),U=function(e,t,a){return"sema/products/admin"},N=a(609),A=a(128),M=Object(A.a)({toolbar:{display:"flex",justifyContent:"space-between"}}),G=function(e){return n.a.createElement(w.a,Object.assign({},e,{classes:M()}),n.a.createElement(x.a,null))},Q=function(e,t){return"/sema/products/admin"},R=a(177),_=function(e){e.id;var t=e.record;e.resource;return n.a.createElement(R.a,null,"Description - ",", ",t.description,n.a.createElement("br",null),"Price Amount - ",", ",t.priceAmount,n.a.createElement("br",null),"Price currency - ",",",t.priceCurrency,n.a.createElement("br",null),"Units Per Product - ",", ",t.unitsPerProduct,n.a.createElement("br",null),"Cost Of Goods - ",", ",t.costOfGoods,",",n.a.createElement("br",null)," ","SKU - "," ,",t.sku,n.a.createElement("br",null),"Min Quantity - ",", ",t.minQuantity,n.a.createElement("br",null),"Max Quantity - ",", ",t.maxQuantity,n.a.createElement("br",null),"Unit Measurement - ",", ",t.unitMeasurement)},D=function(e){return n.a.createElement(m.a,e,n.a.createElement(d.a,{label:"Search",source:"customfilter",alwaysOn:!0}))},F={name:"sema/products/admin",options:{label:"Products"},icon:T.a,create:function(e){return n.a.createElement(j.a,Object.assign({title:"Create Product"},e),n.a.createElement(v.a,{redirect:U},n.a.createElement(d.a,{source:"base64Image",resettable:!0}),n.a.createElement(d.a,{source:"name"}),n.a.createElement(O.a,{label:"Category",source:"category",reference:"sema/product_category/admin"},n.a.createElement(k.a,{optionText:"description"})),n.a.createElement(d.a,{source:"description"}),n.a.createElement(d.a,{source:"sku"}),n.a.createElement(d.a,{source:"priceAmount"}),n.a.createElement(d.a,{source:"priceCurrency"}),n.a.createElement(d.a,{source:"unitMeasurement"}),n.a.createElement(d.a,{source:"minQuantity"}),n.a.createElement(d.a,{source:"maxQuantity"}),n.a.createElement(d.a,{source:"unitsPerProduct"}),n.a.createElement(d.a,{source:"costOfGoods"})))},edit:function(e){return n.a.createElement(P.a,Object.assign({title:"Edit Product"},e),n.a.createElement(v.a,{redirect:Q,toolbar:n.a.createElement(G,null)},n.a.createElement(N.a,{label:"Image",source:"base64Image"}),n.a.createElement(d.a,{source:"base64Image",resettable:!0}),n.a.createElement(d.a,{source:"name"}),n.a.createElement(O.a,{label:"Category",source:"category",reference:"sema/product_category/admin"},n.a.createElement(k.a,{optionText:"description"})),n.a.createElement(d.a,{source:"description"}),n.a.createElement(d.a,{source:"sku"}),n.a.createElement(d.a,{source:"priceAmount"}),n.a.createElement(d.a,{source:"priceCurrency"}),n.a.createElement(d.a,{source:"unitMeasurement"}),n.a.createElement(d.a,{source:"minQuantity"}),n.a.createElement(d.a,{source:"maxQuantity"}),n.a.createElement(d.a,{source:"unitsPerProduct"}),n.a.createElement(d.a,{source:"costOfGoods"})))},list:function(e){return n.a.createElement(E.a,Object.assign({title:"Products"},e,{perPage:100,filters:n.a.createElement(D,null)}),n.a.createElement(f.a,{rowClick:"edit",expand:n.a.createElement(_,null)},n.a.createElement(p.a,{source:"id"}),n.a.createElement(N.a,{label:"Image",source:"base64Image"}),n.a.createElement(g.a,{source:"category",reference:"sema/product_category/admin",link:!1},n.a.createElement(p.a,{source:"description"})),n.a.createElement(p.a,{source:"name"}),n.a.createElement(p.a,{source:"sku"})))}},K=a(612),B=a(611),L=function(e){return n.a.createElement(m.a,e,n.a.createElement(d.a,{label:"Search",source:"customfilter",alwaysOn:!0}))},V=function(e,t){return"sema/kiosks/admin"},W=Object(A.a)({toolbar:{display:"flex",justifyContent:"space-between"}}),J=function(e){return n.a.createElement(w.a,Object.assign({},e,{classes:W()}),n.a.createElement(x.a,null))},q=function(e){var t=e.record;return n.a.createElement("span",null,"Kiosk #",t.id)},z=function(e,t){return"sema/kiosks/admin"},$={name:"sema/kiosks/admin",options:{label:"Franchises"},icon:K.a,list:function(e){return n.a.createElement(E.a,Object.assign({title:"Kiosks"},e,{perPage:100,filters:n.a.createElement(L,null)}),n.a.createElement(f.a,{rowClick:"edit"},n.a.createElement(p.a,{source:"id"}),n.a.createElement(p.a,{source:"name"}),n.a.createElement(B.a,{label:"Created",source:"created_at"})))},create:function(e){return n.a.createElement(j.a,Object.assign({title:"Add Kiosk"},e),n.a.createElement(v.a,{redirect:V},n.a.createElement(d.a,{source:"name"})))},edit:function(e){return n.a.createElement(P.a,Object.assign({title:n.a.createElement(q,null)},e),n.a.createElement(v.a,{redirect:z,toolbar:n.a.createElement(J,null)},n.a.createElement(p.a,{source:"id"}),n.a.createElement(d.a,{source:"name"})))}},H=a(613),X={name:"sema/roles/admin",options:{label:"Roles"},icon:H.a},Y={users:I,products:F,kiosks:$,roles:X,allKiosks:{name:"sema/kiosks/admin/all",options:{label:"All kiosks"},icon:H.a},allRoles:{name:"sema/roles/admin/all",options:{label:"All Roles"},icon:H.a},allProductCategories:{name:"sema/product_category/admin",options:{label:"All Product Category"},icon:H.a}},Z={products:F,kiosks:$,roles:X},ee=a(9),te=a(32),ae=a(6),re=a(155),ne=a(83),ce=a(313),oe=a(314),se=a(50),ie=a(337),le=a(614),ue=a(599),me=a(601),de=a(112),Ee=a(315),fe=a.n(Ee);var pe=function(e){var t=fe.a.create({baseURL:e});return t.interceptors.request.use((function(e){var t=localStorage.getItem("token");return Object(de.a)({},e,{headers:Object(de.a)({},e.headers,{},t?{Authorization:"Bearer ".concat(t)}:{})})})),t}(a(316).backendUrl);var be,ge={date:new Date,users:0,products:0,franchises:0},he=function(e){function t(e){var a;return Object(re.a)(this,t),(a=Object(ce.a)(this,Object(oe.a)(t).call(this,e))).state=ge,a.updateStats=a.updateStats.bind(Object(se.a)(a)),a}return Object(ie.a)(t,e),Object(ne.a)(t,[{key:"updateStats",value:function(e){var t=this;this.setState(e,(function(){return pe.get("/sema/overview").then((function(e){return console.log("response",e.data),e.data})).then((function(e){var a=e.users,r=e.products,n=e.franchises;console.log(e),t.setState({users:a,products:r,franchises:n})})).catch((function(e){return t.props.notify(e.message)}))}))}},{key:"componentDidMount",value:function(){this.updateStats({})}},{key:"componentDidUpdate",value:function(e){e.viewVersion!==this.props.viewVersion&&this.updateStats({})}},{key:"render",value:function(){var e=this.props.classes;return n.a.createElement(n.a.Fragment,null,n.a.createElement(R.a,{variant:"headline"},"Overview"),n.a.createElement(le.a,{className:e.grid,item:!0,xs:12,md:4,container:!0,spacing:16},n.a.createElement(ue.a,{className:e.card},n.a.createElement(me.a,{className:e.content},n.a.createElement(R.a,{variant:"body2"},"Users"),n.a.createElement(le.a,{container:!0,justify:"space-between"},n.a.createElement(le.a,{item:!0},n.a.createElement(le.a,{container:!0,alignItems:"center",spacing:16},n.a.createElement(R.a,{variant:"display1"},this.state.users)))))),n.a.createElement(ue.a,{className:e.card},n.a.createElement(me.a,{className:e.content},n.a.createElement(R.a,{variant:"body2"},"Products"),n.a.createElement(le.a,{container:!0,justify:"space-between"},n.a.createElement(le.a,{item:!0},n.a.createElement(le.a,{container:!0,alignItems:"center",spacing:16},n.a.createElement(R.a,{variant:"display1"},this.state.products)))))),n.a.createElement(ue.a,{className:e.card},n.a.createElement(me.a,{className:e.content},n.a.createElement(R.a,{variant:"body2"},"Franchise"),n.a.createElement(le.a,{container:!0,justify:"space-between"},n.a.createElement(le.a,{item:!0},n.a.createElement(R.a,{variant:"display1"},this.state.franchises)))))))}}]),t}(n.a.Component),je=Object(ee.c)((function(e){return{viewVersion:e.admin.ui.viewVersion}}),{notify:te.d})(Object(ae.a)((function(e){return{grid:{marginTop:2*e.spacing.unit,marginBottom:2*e.spacing.unit},card:{maxWidth:300,margin:"auto",transition:"0.3s",boxShadow:"0 8px 40px -12px rgba(0,0,0,0.3)","&:hover":{boxShadow:"0 16px 70px -12.125px rgba(0,0,0,0.3)"}},content:{textAlign:"left",padding:3*e.spacing.unit}}}))((function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(he,e))}))),ve=a(626),Oe=function(e){return n.a.createElement(ve.a,{backgroundImage:"https://jibuco.com/wp-content/uploads/2020/03/bottlesrackmin-scaled.jpg"})},ke=a(13),ye=a(113),Pe=a(318),we=a.n(Pe),xe=(be={},Object(ke.a)(be,ye.b,(function(e){if(401===e.status)return Promise.reject();return Promise.resolve()})),Object(ke.a)(be,ye.d,(function(e,t){var a=e.username,r=e.password;return t.post("/sema/login",{usernameOrEmail:a,password:r}).then((function(e){return console.log("response",e),e.data})).then((function(e){var t=e.token;localStorage.setItem("token",t)}))})),Object(ke.a)(be,ye.e,(function(e,t){return localStorage.removeItem("token"),Promise.resolve()})),Object(ke.a)(be,ye.a,(function(e){if(!localStorage.getItem("token"))return Promise.reject();return Promise.resolve()})),Object(ke.a)(be,ye.c,(function(){var e=function(){var e=localStorage.getItem("token");return e?we()(e):null}();return e?Promise.resolve(e):Promise.reject()})),be);function Se(e){return function(t,a){return(0,xe[t])(a,e)}}var Ce,Ie=a(616),Te=a(114),Ue=a(42),Ne=(Ce={},Object(ke.a)(Ce,Ue.a,(function(e,t){return{method:"POST",url:e,data:t.data}})),Object(ke.a)(Ce,Ue.b,(function(e,t){return{method:"DELETE",url:"".concat(e,"/").concat(t.id)}})),Object(ke.a)(Ce,Ue.c,(function(e,t){var a=t.ids;return{method:"DELETE",url:"".concat(e,"?").concat(Object(Te.stringify)({ids:a}))}})),Object(ke.a)(Ce,Ue.d,(function(e,t){return{method:"GET",url:"".concat(e,"?").concat(Object(Te.stringify)(Object(de.a)({},t.pagination,{},t.sort,{filter:t.filter})))}})),Object(ke.a)(Ce,Ue.e,(function(e,t){var a=t.ids;return{method:"GET",url:"".concat(e,"?").concat(Object(Te.stringify)({ids:a}))}})),Object(ke.a)(Ce,Ue.f,(function(e,t){var a=t.pagination,r=a.page,n=a.perPage,c=t.sort,o=c.field,s=c.order,i={field:o,order:s,page:r,perPage:n,filter:Object(de.a)({},t.filter,Object(ke.a)({},t.target,t.id))};return{method:"GET",url:"".concat(e,"?").concat(Object(Te.stringify)(i))}})),Object(ke.a)(Ce,Ue.g,(function(e,t){return{method:"GET",url:"".concat(e,"/").concat(t.id)}})),Object(ke.a)(Ce,Ue.h,(function(e,t){return{method:"PUT",url:"".concat(e,"/").concat(t.id),data:t.data}})),Object(ke.a)(Ce,Ue.i,(function(e,t){var a=t.ids,r=t.data;return{method:"PUT",url:"".concat(e,"?").concat(Object(Te.stringify)({ids:a})),data:r}})),Ce),Ae={"sample/resouce":Object(ke.a)({},"SAMPLE_CUSTOM_ACTION",(function(e,t){return{url:e,params:t}}))};var Me,Ge=a(334),Qe=function(e){return Object(Ge.a)(function(e){return function(t,a,r){if("admin/print-runs"===a&&(t===Ue.d||t===Ue.g))return{subscribe:function(n){var c=setInterval((function(){e(t,a,r).then((function(e){return n.next(e)})).catch((function(e){return n.error(e)}))}),3e3);return{unsubscribe:function(){c&&(clearInterval(c),c=void 0,n.complete())}}}}}}(e))},Re=(Me=pe,function(e,t,a){var r=function(e,t){return Ne[e]?Ne[e]:Ae[t]&&Ae[t][e]?Ae[t][e]:void 0}(e,t);if(!r)return Promise.reject(new Ie.a("Unsupported action"));var n=r("/".concat(t),a);return Me(n).then((function(e){return e.data})).catch((function(e){return e.response&&e.response.data&&e.response.data.message?Promise.reject(new Ie.a(e.response.data.message,e.response.status)):Promise.reject(new Ie.a(e.message))}))});Qe(Re);var _e=function(){return n.a.createElement(s.a,{dashboard:je,authProvider:Se(pe),dataProvider:Re,customSagas:[Qe],loginPage:Oe},(function(e){var t=function(e){if(console.log("user",e.role[0].code),"admin"===e.role[0].code)return Y;if("admin"!==e.role[0].code)return Z}(e);return Object.keys(t).map((function(e){return n.a.createElement(i.a,t[e])}))}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(_e,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[362,1,2]]]);
//# sourceMappingURL=main.ca142860.chunk.js.map