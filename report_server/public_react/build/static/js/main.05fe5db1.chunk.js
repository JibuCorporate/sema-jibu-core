(this.webpackJsonpreactadmin=this.webpackJsonpreactadmin||[]).push([[0],{318:function(e,t){e.exports.backendUrl="http://142.93.115.206:3002/",e.exports.webUrl="http://localhost:3002",e.exports.port=3e3},363:function(e,t,a){e.exports=a(535)},368:function(e,t,a){},535:function(e,t,a){"use strict";a.r(t);var r,n=a(0),c=a.n(n),o=a(16),s=a.n(o),i=(a(368),a(619)),u=a(618),l=a(314),m=a.n(l),d=a(628),E=a(591),f=a(620),b=a(621),p=a(602),g=a(603),k=a(632),j=function(e){return c.a.createElement(d.a,e,c.a.createElement(E.a,{label:"Search",source:"username",alwaysOn:!0}))},O=a(631),h=a(623),v=a(622),P=a(627),y=function(e,t){return"/sema/users/admin"},w=a(624),I=a(609),T=a(333),x=a(605),U=function(e){return c.a.createElement(T.a,e,c.a.createElement(x.a,null))},A=function(e,t){return"/sema/users/admin"},S={name:"sema/users/admin",options:{label:"Users"},icon:m.a,list:function(e){return c.a.createElement(f.a,Object.assign({title:"Users"},e,{perPage:100,filters:c.a.createElement(j,null)}),c.a.createElement(b.a,{rowClick:"edit"},c.a.createElement(p.a,{source:"id"}),c.a.createElement(p.a,{source:"firstName"}),c.a.createElement(p.a,{source:"lastName"}),c.a.createElement(p.a,{source:"username"}),c.a.createElement(g.a,{source:"email"}),c.a.createElement(k.a,{source:"role",reference:"sema/roles/admin",link:!1},c.a.createElement(p.a,{source:"authority"})),c.a.createElement(k.a,{source:"kiosk",label:"Franchise",reference:"sema/kiosks/admin",link:!1},c.a.createElement(p.a,{source:"name"}))))},create:function(e){return c.a.createElement(O.a,Object.assign({title:"Register User"},e),c.a.createElement(h.a,{redirect:y},c.a.createElement(E.a,{source:"firstName"}),c.a.createElement(E.a,{source:"lastName"}),c.a.createElement(E.a,{source:"username"}),c.a.createElement(E.a,{source:"password"}),c.a.createElement(v.a,{label:"Franchise",source:"kiosk",reference:"sema/kiosks/admin/all"},c.a.createElement(P.a,{optionText:"name"})),c.a.createElement(E.a,{source:"email"}),c.a.createElement(v.a,{label:"Role",source:"role",reference:"sema/roles/admin/all"},c.a.createElement(P.a,{optionText:"authority"}))))},edit:function(e){return c.a.createElement(w.a,Object.assign({title:"Edit User"},e),c.a.createElement(h.a,{toolbar:c.a.createElement(U,null),redirect:A},c.a.createElement(E.a,{source:"firstName"}),c.a.createElement(E.a,{source:"lastName"}),c.a.createElement(E.a,{source:"username"}),c.a.createElement(E.a,{source:"email"}),c.a.createElement(v.a,{label:"Role",source:"role",reference:"sema/roles/admin"},c.a.createElement(I.a,{optionText:"authority"})),c.a.createElement(v.a,{label:"Franchise",source:"kiosk",reference:"sema/kiosks/admin"},c.a.createElement(I.a,{optionText:"name"}))))}},C=a(611),G=function(e,t,a){return"sema/products/admin"},N=a(610),R=function(e,t){return"sema/products/admin"},M={name:"sema/products/admin",options:{label:"Products"},icon:C.a,create:function(e){return c.a.createElement(O.a,Object.assign({title:"Create Product"},e),c.a.createElement(h.a,{redirect:G},c.a.createElement(E.a,{source:"base64Image",resettable:!0}),c.a.createElement(E.a,{source:"name"}),c.a.createElement(E.a,{source:"category_id"}),c.a.createElement(E.a,{source:"description"}),c.a.createElement(E.a,{source:"sku"}),c.a.createElement(E.a,{source:"priceAmount"}),c.a.createElement(E.a,{source:"priceCurrency"}),c.a.createElement(E.a,{source:"unitMeasurement"}),c.a.createElement(E.a,{source:"minQuantity"}),c.a.createElement(E.a,{source:"maxQuantity"}),c.a.createElement(E.a,{source:"unitsPerProduct"}),c.a.createElement(E.a,{source:"costOfGoods"})))},edit:function(e){return c.a.createElement(w.a,Object.assign({title:"Edit Product"},e),c.a.createElement(h.a,{redirect:R},c.a.createElement(N.a,{label:"Image",source:"base64Image"}),c.a.createElement(E.a,{source:"base64Image",resettable:!0}),c.a.createElement(E.a,{source:"name"}),c.a.createElement(E.a,{source:"category_id"}),c.a.createElement(E.a,{source:"description"}),c.a.createElement(E.a,{source:"sku"}),c.a.createElement(E.a,{source:"priceAmount"}),c.a.createElement(E.a,{source:"priceCurrency"}),c.a.createElement(E.a,{source:"unitMeasurement"}),c.a.createElement(E.a,{source:"minQuantity"}),c.a.createElement(E.a,{source:"maxQuantity"}),c.a.createElement(E.a,{source:"unitsPerProduct"}),c.a.createElement(E.a,{source:"costOfGoods"})))},list:function(e){return c.a.createElement(f.a,Object.assign({title:"Products"},e,{perPage:100}),c.a.createElement(b.a,{rowClick:"edit"},c.a.createElement(p.a,{source:"id"}),c.a.createElement(N.a,{label:"Image",source:"base64Image"}),c.a.createElement(p.a,{source:"name"}),c.a.createElement(p.a,{source:"category_id"}),c.a.createElement(p.a,{source:"description"}),c.a.createElement(p.a,{source:"sku"}),c.a.createElement(p.a,{source:"priceAmount"}),c.a.createElement(p.a,{source:"priceCurrency"}),c.a.createElement(p.a,{source:"unitMeasurement"}),c.a.createElement(p.a,{source:"minQuantity"}),c.a.createElement(p.a,{source:"maxQuantity"}),c.a.createElement(p.a,{source:"unitsPerProduct"}),c.a.createElement(p.a,{source:"costOfGoods"})))}},Q=a(613),_=a(612),F=function(e,t){return"sema/kiosks/admin"},K=function(e){var t=e.record;return c.a.createElement("span",null,"Kiosk #",t.id)},L=function(e,t){return"sema/kiosks/admin"},B={name:"sema/kiosks/admin",options:{label:"Franchises"},icon:Q.a,list:function(e){return c.a.createElement(f.a,Object.assign({title:"Kiosks"},e,{perPage:100}),c.a.createElement(b.a,{rowClick:"edit"},c.a.createElement(p.a,{source:"id"}),c.a.createElement(p.a,{source:"name"}),c.a.createElement(_.a,{label:"Created",source:"created_at"})))},create:function(e){return c.a.createElement(O.a,Object.assign({title:"Add Kiosk"},e),c.a.createElement(h.a,{redirect:F},c.a.createElement(E.a,{source:"name"})))},edit:function(e){return c.a.createElement(w.a,Object.assign({title:c.a.createElement(K,null)},e),c.a.createElement(h.a,{redirect:L},c.a.createElement(p.a,{source:"id"}),c.a.createElement(E.a,{source:"name"})))}},W=a(614),D={name:"sema/roles/admin",options:{label:"Roles"},icon:W.a},J={users:S,products:M,kiosks:B,roles:D,allKiosks:{name:"sema/kiosks/admin/all",options:{label:"All kiosks"},icon:W.a},allRoles:{name:"sema/roles/admin/all",options:{label:"All Roles"},icon:W.a}},q={products:M,kiosks:B,roles:D},z=a(599),$=a(601),H=a(615),V=function(){return c.a.createElement(z.a,null,c.a.createElement(H.a,{title:"Welcome SEMA Admin"}),c.a.createElement($.a,null,"..."))},X=a(625),Y=function(e){return c.a.createElement(X.a,{backgroundImage:"https://jibuco.com/wp-content/uploads/2020/03/bottlesrackmin-scaled.jpg"})},Z=a(13),ee=a(114),te=a(316),ae=a.n(te),re=(r={},Object(Z.a)(r,ee.b,(function(e){if(401===e.status)return Promise.reject();return Promise.resolve()})),Object(Z.a)(r,ee.d,(function(e,t){var a=e.username,r=e.password;return t.post("/sema/login",{usernameOrEmail:a,password:r}).then((function(e){return console.log("response",e),e.data})).then((function(e){var t=e.token;localStorage.setItem("token",t)}))})),Object(Z.a)(r,ee.e,(function(e,t){return localStorage.removeItem("token"),Promise.resolve()})),Object(Z.a)(r,ee.a,(function(e){if(!localStorage.getItem("token"))return Promise.reject();return Promise.resolve()})),Object(Z.a)(r,ee.c,(function(){var e=function(){var e=localStorage.getItem("token");return e?ae()(e):null}();return e?Promise.resolve(e):Promise.reject()})),r);function ne(e){return function(t,a){return(0,re[t])(a,e)}}var ce=a(113),oe=a(317),se=a.n(oe);var ie,ue=function(e){var t=se.a.create({baseURL:e});return t.interceptors.request.use((function(e){var t=localStorage.getItem("token");return Object(ce.a)({},e,{headers:Object(ce.a)({},e.headers,{},t?{Authorization:"Bearer ".concat(t)}:{})})})),t}(a(318).backendUrl),le=a(617),me=a(115),de=a(42),Ee=(ie={},Object(Z.a)(ie,de.a,(function(e,t){return{method:"POST",url:e,data:t.data}})),Object(Z.a)(ie,de.b,(function(e,t){return{method:"DELETE",url:"".concat(e,"/").concat(t.id)}})),Object(Z.a)(ie,de.c,(function(e,t){var a=t.ids;return{method:"DELETE",url:"".concat(e,"?").concat(Object(me.stringify)({ids:a}))}})),Object(Z.a)(ie,de.d,(function(e,t){return{method:"GET",url:"".concat(e,"?").concat(Object(me.stringify)(Object(ce.a)({},t.pagination,{},t.sort,{filter:t.filter})))}})),Object(Z.a)(ie,de.e,(function(e,t){var a=t.ids;return{method:"GET",url:"".concat(e,"?").concat(Object(me.stringify)({ids:a}))}})),Object(Z.a)(ie,de.f,(function(e,t){var a=t.pagination,r=a.page,n=a.perPage,c=t.sort,o=c.field,s=c.order,i={field:o,order:s,page:r,perPage:n,filter:Object(ce.a)({},t.filter,Object(Z.a)({},t.target,t.id))};return{method:"GET",url:"".concat(e,"?").concat(Object(me.stringify)(i))}})),Object(Z.a)(ie,de.g,(function(e,t){return{method:"GET",url:"".concat(e,"/").concat(t.id)}})),Object(Z.a)(ie,de.h,(function(e,t){return{method:"PUT",url:"".concat(e,"/").concat(t.id),data:t.data}})),Object(Z.a)(ie,de.i,(function(e,t){var a=t.ids,r=t.data;return{method:"PUT",url:"".concat(e,"?").concat(Object(me.stringify)({ids:a})),data:r}})),ie),fe={"sample/resouce":Object(Z.a)({},"SAMPLE_CUSTOM_ACTION",(function(e,t){return{url:e,params:t}}))};var be,pe=a(334),ge=function(e){return Object(pe.a)(function(e){return function(t,a,r){if("admin/print-runs"===a&&(t===de.d||t===de.g))return{subscribe:function(n){var c=setInterval((function(){e(t,a,r).then((function(e){return n.next(e)})).catch((function(e){return n.error(e)}))}),3e3);return{unsubscribe:function(){c&&(clearInterval(c),c=void 0,n.complete())}}}}}}(e))},ke=(be=ue,function(e,t,a){var r=function(e,t){return Ee[e]?Ee[e]:fe[t]&&fe[t][e]?fe[t][e]:void 0}(e,t);if(!r)return Promise.reject(new le.a("Unsupported action"));var n=r("/".concat(t),a);return be(n).then((function(e){return e.data})).catch((function(e){return e.response&&e.response.data&&e.response.data.message?Promise.reject(new le.a(e.response.data.message,e.response.status)):Promise.reject(new le.a(e.message))}))});ge(ke);var je=function(){return c.a.createElement(i.a,{dashboard:V,authProvider:ne(ue),dataProvider:ke,customSagas:[ge],loginPage:Y},(function(e){var t=function(e){if(console.log("user",e.role[0].code),"admin"===e.role[0].code)return J;if("admin"!==e.role[0].code)return q}(e);return Object.keys(t).map((function(e){return c.a.createElement(u.a,t[e])}))}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(je,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[363,1,2]]]);
//# sourceMappingURL=main.05fe5db1.chunk.js.map