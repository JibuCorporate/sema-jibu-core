(this.webpackJsonpreactadmin=this.webpackJsonpreactadmin||[]).push([[0],{318:function(e,t){e.exports.backendUrl="http://142.93.115.206:3002/",e.exports.webUrl="http://localhost:3002",e.exports.port=3e3},363:function(e,t,a){e.exports=a(535)},368:function(e,t,a){},535:function(e,t,a){"use strict";a.r(t);var r,n=a(0),c=a.n(n),o=a(16),s=a.n(o),l=(a(368),a(620)),i=a(619),u=a(314),m=a.n(u),d=a(629),E=a(592),f=a(621),b=a(622),p=a(603),g=a(604),k=a(633),O=function(e){return c.a.createElement(d.a,e,c.a.createElement(E.a,{label:"Search",source:"username",alwaysOn:!0}))},h=a(632),j=a(624),v=a(623),P=a(628),y=function(e,t){return"/sema/users/admin"},w=a(625),I=a(610),T=a(333),U=a(606),x=function(e){return c.a.createElement(T.a,e,c.a.createElement(U.a,null))},S=function(e,t){return"/sema/users/admin"},A={name:"sema/users/admin",options:{label:"Users"},icon:m.a,list:function(e){return c.a.createElement(f.a,Object.assign({title:"Users"},e,{perPage:100,filters:c.a.createElement(O,null)}),c.a.createElement(b.a,{rowClick:"edit"},c.a.createElement(p.a,{source:"id"}),c.a.createElement(p.a,{source:"firstName"}),c.a.createElement(p.a,{source:"lastName"}),c.a.createElement(p.a,{source:"username"}),c.a.createElement(g.a,{source:"email"}),c.a.createElement(k.a,{source:"role",reference:"sema/roles/admin",link:!1},c.a.createElement(p.a,{source:"authority"})),c.a.createElement(k.a,{source:"kiosk",label:"Franchise",reference:"sema/kiosks/admin",link:!1},c.a.createElement(p.a,{source:"name"}))))},create:function(e){return c.a.createElement(h.a,Object.assign({title:"Register User"},e),c.a.createElement(j.a,{redirect:y},c.a.createElement(E.a,{source:"firstName"}),c.a.createElement(E.a,{source:"lastName"}),c.a.createElement(E.a,{source:"username"}),c.a.createElement(E.a,{source:"password"}),c.a.createElement(v.a,{label:"Franchise",source:"kiosk",reference:"sema/kiosks/admin/all"},c.a.createElement(P.a,{optionText:"name"})),c.a.createElement(E.a,{source:"email"}),c.a.createElement(v.a,{label:"Role",source:"role",reference:"sema/roles/admin/all"},c.a.createElement(P.a,{optionText:"authority"}))))},edit:function(e){return c.a.createElement(w.a,Object.assign({title:"Edit User"},e),c.a.createElement(j.a,{toolbar:c.a.createElement(x,null),redirect:S},c.a.createElement(E.a,{source:"firstName"}),c.a.createElement(E.a,{source:"lastName"}),c.a.createElement(E.a,{source:"username"}),c.a.createElement(E.a,{source:"email"}),c.a.createElement(v.a,{label:"Role",source:"role",reference:"sema/roles/admin"},c.a.createElement(I.a,{optionText:"authority"})),c.a.createElement(v.a,{label:"Franchise",source:"kiosk",reference:"sema/kiosks/admin"},c.a.createElement(I.a,{optionText:"name"}))))}},C=a(612),M=function(e,t,a){return"sema/products/admin"},G=a(611),Q=function(e,t){return"sema/products/admin"},N=a(86),R=function(e){e.id;var t=e.record;e.resource;return c.a.createElement(N.a,null,"Description - ",", ",t.description,c.a.createElement("br",null),"Price Amount - ",", ",t.priceAmount,c.a.createElement("br",null),"Price currency - ",",",t.priceCurrency,c.a.createElement("br",null),"Units Per Product - ",", ",t.unitsPerProduct,c.a.createElement("br",null),"Cost Of Goods - ",", ",t.costOfGoods,",",c.a.createElement("br",null)," ","SKU - "," ,",t.sku,c.a.createElement("br",null),"Min Quantity - ",", ",t.minQuantity,c.a.createElement("br",null),"Max Quantity - ",", ",t.maxQuantity,c.a.createElement("br",null),"Unit Measurement - ",", ",t.unitMeasurement)},_=function(e){return c.a.createElement(d.a,e,c.a.createElement(E.a,{label:"Search",source:"name",alwaysOn:!0}))},K={name:"sema/products/admin",options:{label:"Products"},icon:C.a,create:function(e){return c.a.createElement(h.a,Object.assign({title:"Create Product"},e),c.a.createElement(j.a,{redirect:M},c.a.createElement(E.a,{source:"base64Image",resettable:!0}),c.a.createElement(E.a,{source:"name"}),c.a.createElement(E.a,{source:"category_id"}),c.a.createElement(E.a,{source:"description"}),c.a.createElement(E.a,{source:"sku"}),c.a.createElement(E.a,{source:"priceAmount"}),c.a.createElement(E.a,{source:"priceCurrency"}),c.a.createElement(E.a,{source:"unitMeasurement"}),c.a.createElement(E.a,{source:"minQuantity"}),c.a.createElement(E.a,{source:"maxQuantity"}),c.a.createElement(E.a,{source:"unitsPerProduct"}),c.a.createElement(E.a,{source:"costOfGoods"})))},edit:function(e){return c.a.createElement(w.a,Object.assign({title:"Edit Product"},e),c.a.createElement(j.a,{redirect:Q},c.a.createElement(G.a,{label:"Image",source:"base64Image"}),c.a.createElement(E.a,{source:"base64Image",resettable:!0}),c.a.createElement(E.a,{source:"name"}),c.a.createElement(E.a,{source:"category_id"}),c.a.createElement(E.a,{source:"description"}),c.a.createElement(E.a,{source:"sku"}),c.a.createElement(E.a,{source:"priceAmount"}),c.a.createElement(E.a,{source:"priceCurrency"}),c.a.createElement(E.a,{source:"unitMeasurement"}),c.a.createElement(E.a,{source:"minQuantity"}),c.a.createElement(E.a,{source:"maxQuantity"}),c.a.createElement(E.a,{source:"unitsPerProduct"}),c.a.createElement(E.a,{source:"costOfGoods"})))},list:function(e){return c.a.createElement(f.a,Object.assign({title:"Products"},e,{perPage:100,filters:c.a.createElement(_,null)}),c.a.createElement(b.a,{rowClick:"edit",expand:c.a.createElement(R,null)},c.a.createElement(p.a,{source:"id"}),c.a.createElement(G.a,{label:"Image",source:"base64Image"}),c.a.createElement(p.a,{source:"category_id"}),c.a.createElement(p.a,{source:"name"}),c.a.createElement(p.a,{source:"sku"})))}},F=a(614),L=a(613),B=function(e){return c.a.createElement(d.a,e,c.a.createElement(E.a,{label:"Search",source:"name",alwaysOn:!0}))},D=function(e,t){return"sema/kiosks/admin"},W=function(e){var t=e.record;return c.a.createElement("span",null,"Kiosk #",t.id)},J=function(e,t){return"sema/kiosks/admin"},q={name:"sema/kiosks/admin",options:{label:"Franchises"},icon:F.a,list:function(e){return c.a.createElement(f.a,Object.assign({title:"Kiosks"},e,{perPage:100,filters:c.a.createElement(B,null)}),c.a.createElement(b.a,{rowClick:"edit"},c.a.createElement(p.a,{source:"id"}),c.a.createElement(p.a,{source:"name"}),c.a.createElement(L.a,{label:"Created",source:"created_at"})))},create:function(e){return c.a.createElement(h.a,Object.assign({title:"Add Kiosk"},e),c.a.createElement(j.a,{redirect:D},c.a.createElement(E.a,{source:"name"})))},edit:function(e){return c.a.createElement(w.a,Object.assign({title:c.a.createElement(W,null)},e),c.a.createElement(j.a,{redirect:J},c.a.createElement(p.a,{source:"id"}),c.a.createElement(E.a,{source:"name"})))}},z=a(615),$={name:"sema/roles/admin",options:{label:"Roles"},icon:z.a},H={users:A,products:K,kiosks:q,roles:$,allKiosks:{name:"sema/kiosks/admin/all",options:{label:"All kiosks"},icon:z.a},allRoles:{name:"sema/roles/admin/all",options:{label:"All Roles"},icon:z.a}},V={products:K,kiosks:q,roles:$},X=a(600),Y=a(602),Z=a(616),ee=function(){return c.a.createElement(X.a,null,c.a.createElement(Z.a,{title:"Welcome SEMA Admin"}),c.a.createElement(Y.a,null,"..."))},te=a(626),ae=function(e){return c.a.createElement(te.a,{backgroundImage:"https://jibuco.com/wp-content/uploads/2020/03/bottlesrackmin-scaled.jpg"})},re=a(13),ne=a(114),ce=a(316),oe=a.n(ce),se=(r={},Object(re.a)(r,ne.b,(function(e){if(401===e.status)return Promise.reject();return Promise.resolve()})),Object(re.a)(r,ne.d,(function(e,t){var a=e.username,r=e.password;return t.post("/sema/login",{usernameOrEmail:a,password:r}).then((function(e){return console.log("response",e),e.data})).then((function(e){var t=e.token;localStorage.setItem("token",t)}))})),Object(re.a)(r,ne.e,(function(e,t){return localStorage.removeItem("token"),Promise.resolve()})),Object(re.a)(r,ne.a,(function(e){if(!localStorage.getItem("token"))return Promise.reject();return Promise.resolve()})),Object(re.a)(r,ne.c,(function(){var e=function(){var e=localStorage.getItem("token");return e?oe()(e):null}();return e?Promise.resolve(e):Promise.reject()})),r);function le(e){return function(t,a){return(0,se[t])(a,e)}}var ie=a(113),ue=a(317),me=a.n(ue);var de,Ee=function(e){var t=me.a.create({baseURL:e});return t.interceptors.request.use((function(e){var t=localStorage.getItem("token");return Object(ie.a)({},e,{headers:Object(ie.a)({},e.headers,{},t?{Authorization:"Bearer ".concat(t)}:{})})})),t}(a(318).backendUrl),fe=a(618),be=a(115),pe=a(42),ge=(de={},Object(re.a)(de,pe.a,(function(e,t){return{method:"POST",url:e,data:t.data}})),Object(re.a)(de,pe.b,(function(e,t){return{method:"DELETE",url:"".concat(e,"/").concat(t.id)}})),Object(re.a)(de,pe.c,(function(e,t){var a=t.ids;return{method:"DELETE",url:"".concat(e,"?").concat(Object(be.stringify)({ids:a}))}})),Object(re.a)(de,pe.d,(function(e,t){return{method:"GET",url:"".concat(e,"?").concat(Object(be.stringify)(Object(ie.a)({},t.pagination,{},t.sort,{filter:t.filter})))}})),Object(re.a)(de,pe.e,(function(e,t){var a=t.ids;return{method:"GET",url:"".concat(e,"?").concat(Object(be.stringify)({ids:a}))}})),Object(re.a)(de,pe.f,(function(e,t){var a=t.pagination,r=a.page,n=a.perPage,c=t.sort,o=c.field,s=c.order,l={field:o,order:s,page:r,perPage:n,filter:Object(ie.a)({},t.filter,Object(re.a)({},t.target,t.id))};return{method:"GET",url:"".concat(e,"?").concat(Object(be.stringify)(l))}})),Object(re.a)(de,pe.g,(function(e,t){return{method:"GET",url:"".concat(e,"/").concat(t.id)}})),Object(re.a)(de,pe.h,(function(e,t){return{method:"PUT",url:"".concat(e,"/").concat(t.id),data:t.data}})),Object(re.a)(de,pe.i,(function(e,t){var a=t.ids,r=t.data;return{method:"PUT",url:"".concat(e,"?").concat(Object(be.stringify)({ids:a})),data:r}})),de),ke={"sample/resouce":Object(re.a)({},"SAMPLE_CUSTOM_ACTION",(function(e,t){return{url:e,params:t}}))};var Oe,he=a(334),je=function(e){return Object(he.a)(function(e){return function(t,a,r){if("admin/print-runs"===a&&(t===pe.d||t===pe.g))return{subscribe:function(n){var c=setInterval((function(){e(t,a,r).then((function(e){return n.next(e)})).catch((function(e){return n.error(e)}))}),3e3);return{unsubscribe:function(){c&&(clearInterval(c),c=void 0,n.complete())}}}}}}(e))},ve=(Oe=Ee,function(e,t,a){var r=function(e,t){return ge[e]?ge[e]:ke[t]&&ke[t][e]?ke[t][e]:void 0}(e,t);if(!r)return Promise.reject(new fe.a("Unsupported action"));var n=r("/".concat(t),a);return Oe(n).then((function(e){return e.data})).catch((function(e){return e.response&&e.response.data&&e.response.data.message?Promise.reject(new fe.a(e.response.data.message,e.response.status)):Promise.reject(new fe.a(e.message))}))});je(ve);var Pe=function(){return c.a.createElement(l.a,{dashboard:ee,authProvider:le(Ee),dataProvider:ve,customSagas:[je],loginPage:ae},(function(e){var t=function(e){if(console.log("user",e.role[0].code),"admin"===e.role[0].code)return H;if("admin"!==e.role[0].code)return V}(e);return Object.keys(t).map((function(e){return c.a.createElement(i.a,t[e])}))}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(Pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[363,1,2]]]);
//# sourceMappingURL=main.a7a915ad.chunk.js.map