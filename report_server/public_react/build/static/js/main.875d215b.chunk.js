(this.webpackJsonpreactadmin=this.webpackJsonpreactadmin||[]).push([[0],{316:function(e,t){e.exports.backendUrl="http://142.93.115.206:3002/",e.exports.webUrl="http://localhost:3002",e.exports.port=3e3},363:function(e,t,a){e.exports=a(534)},368:function(e,t,a){},534:function(e,t,a){"use strict";a.r(t);var r,n=a(0),c=a.n(n),o=a(16),s=a.n(o),i=(a(368),a(618)),u=a(617),l=a(310),m=a.n(l),d=a(627),E=a(592),f=a(619),b=a(620),p=a(602),g=a(603),k=a(629),j=function(e){return c.a.createElement(d.a,e,c.a.createElement(E.a,{label:"Search",source:"username",alwaysOn:!0}))},O=a(630),h=a(624),v=a(622),P=a(632),w=function(e,t){return"/sema/users/admin"},I=a(623),T=a(331),y=a(605),U=function(e){return c.a.createElement(T.a,e,c.a.createElement(y.a,null))},S=function(e,t){return"/sema/users/admin"},C={name:"sema/users/admin",options:{label:"Users"},icon:m.a,list:function(e){return c.a.createElement(f.a,Object.assign({title:"Users"},e,{perPage:100,filters:c.a.createElement(j,null)}),c.a.createElement(b.a,{rowClick:"edit"},c.a.createElement(p.a,{source:"id"}),c.a.createElement(p.a,{source:"firstName"}),c.a.createElement(p.a,{source:"lastName"}),c.a.createElement(p.a,{source:"username"}),c.a.createElement(g.a,{source:"email"}),c.a.createElement(k.a,{source:"role",reference:"sema/roles/admin",link:!1},c.a.createElement(p.a,{source:"authority"})),c.a.createElement(k.a,{source:"kiosk",reference:"sema/kiosks/admin",link:!1},c.a.createElement(p.a,{source:"name"}))))},create:function(e){return c.a.createElement(O.a,Object.assign({title:"Register User"},e),c.a.createElement(h.a,{redirect:w},c.a.createElement(E.a,{source:"firstName"}),c.a.createElement(E.a,{source:"lastName"}),c.a.createElement(E.a,{source:"username"}),c.a.createElement(E.a,{source:"password"}),c.a.createElement(v.a,{label:"Kiosk",source:"kiosk",reference:"sema/kiosks/admin"},c.a.createElement(P.a,{optionText:"name"})),c.a.createElement(E.a,{source:"email"}),c.a.createElement(v.a,{label:"Role",source:"role",reference:"sema/roles/admin"},c.a.createElement(P.a,{optionText:"authority"}))))},edit:function(e){return c.a.createElement(I.a,Object.assign({title:"Edit User"},e),c.a.createElement(h.a,{toolbar:c.a.createElement(U,null),redirect:S},c.a.createElement(E.a,{source:"firstName"}),c.a.createElement(E.a,{source:"lastName"}),c.a.createElement(E.a,{source:"username"}),c.a.createElement(E.a,{source:"email"}),c.a.createElement(v.a,{label:"Role",source:"role",reference:"sema/roles/admin"},c.a.createElement(P.a,{optionText:"authority"})),c.a.createElement(v.a,{label:"Kiosk",source:"kiosk",reference:"sema/kiosks/admin"},c.a.createElement(P.a,{optionText:"name"}))))}},x=a(610),A=a(621),N=function(e,t,a){return"sema/products/admin"},K=a(609),M=function(e,t){return"sema/products/admin"},R={name:"sema/products/admin",options:{label:"Products"},icon:x.a,create:function(e){return c.a.createElement(O.a,Object.assign({title:"Create Product"},e),c.a.createElement(h.a,{redirect:N},c.a.createElement(A.a,{source:"base64Image",label:"Related pictures"},c.a.createElement(A.a,{label:"Image",source:"base64Image"})),c.a.createElement(E.a,{source:"description"}),c.a.createElement(E.a,{source:"sku"}),c.a.createElement(E.a,{source:"priceAmount"}),c.a.createElement(E.a,{source:"priceCurrency"}),c.a.createElement(E.a,{source:"unitMeasurement"})))},edit:function(e){return c.a.createElement(I.a,Object.assign({title:"Edit Product"},e),c.a.createElement(h.a,{redirect:M},c.a.createElement(K.a,{label:"Image",source:"base64Image"}),c.a.createElement(E.a,{source:"description"}),c.a.createElement(E.a,{source:"sku"}),c.a.createElement(E.a,{source:"priceAmount"}),c.a.createElement(E.a,{source:"priceCurrency"}),c.a.createElement(E.a,{source:"unitMeasurement"})))},list:function(e){return c.a.createElement(f.a,Object.assign({title:"Products"},e,{perPage:100}),c.a.createElement(b.a,{rowClick:"edit"},c.a.createElement(p.a,{source:"id"}),c.a.createElement(K.a,{label:"Image",source:"base64Image"}),c.a.createElement(p.a,{source:"description"}),c.a.createElement(p.a,{source:"sku"}),c.a.createElement(p.a,{source:"priceAmount"}),c.a.createElement(p.a,{source:"priceCurrency"}),c.a.createElement(p.a,{source:"unitMeasurement"})))}},G=a(612),L=a(611),B=function(e,t){return"sema/kiosks/admin"},W=function(e){var t=e.record;return c.a.createElement("span",null,"Kiosk #",t.id)},_=function(e,t){return"sema/kiosks/admin"},D={name:"sema/kiosks/admin",options:{label:"Kiosks"},icon:G.a,list:function(e){return c.a.createElement(f.a,Object.assign({title:"Kiosks"},e,{perPage:100}),c.a.createElement(b.a,{rowClick:"edit"},c.a.createElement(p.a,{source:"id"}),c.a.createElement(p.a,{source:"name"}),c.a.createElement(L.a,{label:"Created",source:"created_at"})))},create:function(e){return c.a.createElement(O.a,Object.assign({title:"Add Kiosk"},e),c.a.createElement(h.a,{redirect:B},c.a.createElement(E.a,{source:"name"})))},edit:function(e){return c.a.createElement(I.a,Object.assign({title:c.a.createElement(W,null)},e),c.a.createElement(h.a,{redirect:_},c.a.createElement(p.a,{source:"id"}),c.a.createElement(E.a,{source:"name"})))}},J={name:"sema/roles/admin",options:{label:"Roles"},icon:a(613).a},q=a(599),z=a(601),$=a(614),F=function(){return c.a.createElement(q.a,null,c.a.createElement($.a,{title:"Welcome SEMA Admin"}),c.a.createElement(z.a,null,"..."))},H=a(626),Q=function(e){return c.a.createElement(H.a,{backgroundImage:"https://jibuco.com/wp-content/uploads/2020/03/bottlesrackmin-scaled.jpg"})},V=a(13),X=a(117),Y=a(314),Z=a.n(Y),ee=(r={},Object(V.a)(r,X.b,(function(e){if(401===e.status)return Promise.reject();return Promise.resolve()})),Object(V.a)(r,X.d,(function(e,t){var a=e.username,r=e.password;return t.post("/sema/login",{usernameOrEmail:a,password:r}).then((function(e){return console.log("response",e),e.data})).then((function(e){var t=e.token;localStorage.setItem("token",t)}))})),Object(V.a)(r,X.e,(function(e,t){return localStorage.removeItem("token"),Promise.resolve()})),Object(V.a)(r,X.a,(function(e){if(!localStorage.getItem("token"))return Promise.reject();return Promise.resolve()})),Object(V.a)(r,X.c,(function(){var e=function(){var e=localStorage.getItem("token");return e?Z()(e):null}();return e?Promise.resolve(e):Promise.reject()})),r);function te(e){return function(t,a){return(0,ee[t])(a,e)}}var ae=a(116),re=a(315),ne=a.n(re);var ce,oe=function(e){var t=ne.a.create({baseURL:e});return t.interceptors.request.use((function(e){var t=localStorage.getItem("token");return Object(ae.a)({},e,{headers:Object(ae.a)({},e.headers,{},t?{Authorization:"Bearer ".concat(t)}:{})})})),t}(a(316).backendUrl),se=a(616),ie=a(118),ue=a(41),le=(ce={},Object(V.a)(ce,ue.a,(function(e,t){return{method:"POST",url:e,data:t.data}})),Object(V.a)(ce,ue.b,(function(e,t){return{method:"DELETE",url:"".concat(e,"/").concat(t.id)}})),Object(V.a)(ce,ue.c,(function(e,t){var a=t.ids;return{method:"DELETE",url:"".concat(e,"?").concat(Object(ie.stringify)({ids:a}))}})),Object(V.a)(ce,ue.d,(function(e,t){return{method:"GET",url:"".concat(e,"?").concat(Object(ie.stringify)(Object(ae.a)({},t.pagination,{},t.sort,{filter:t.filter})))}})),Object(V.a)(ce,ue.e,(function(e,t){var a=t.ids;return{method:"GET",url:"".concat(e,"?").concat(Object(ie.stringify)({ids:a}))}})),Object(V.a)(ce,ue.f,(function(e,t){var a=t.pagination,r=a.page,n=a.perPage,c=t.sort,o=c.field,s=c.order,i={field:o,order:s,page:r,perPage:n,filter:Object(ae.a)({},t.filter,Object(V.a)({},t.target,t.id))};return{method:"GET",url:"".concat(e,"?").concat(Object(ie.stringify)(i))}})),Object(V.a)(ce,ue.g,(function(e,t){return{method:"GET",url:"".concat(e,"/").concat(t.id)}})),Object(V.a)(ce,ue.h,(function(e,t){return{method:"PUT",url:"".concat(e,"/").concat(t.id),data:t.data}})),Object(V.a)(ce,ue.i,(function(e,t){var a=t.ids,r=t.data;return{method:"PUT",url:"".concat(e,"?").concat(Object(ie.stringify)({ids:a})),data:r}})),ce),me={"sample/resouce":Object(V.a)({},"SAMPLE_CUSTOM_ACTION",(function(e,t){return{url:e,params:t}}))};var de,Ee=a(332),fe=function(e){return Object(Ee.a)(function(e){return function(t,a,r){if("admin/print-runs"===a&&(t===ue.d||t===ue.g))return{subscribe:function(n){var c=setInterval((function(){e(t,a,r).then((function(e){return n.next(e)})).catch((function(e){return n.error(e)}))}),3e3);return{unsubscribe:function(){c&&(clearInterval(c),c=void 0,n.complete())}}}}}}(e))},be=(de=oe,function(e,t,a){var r=function(e,t){return le[e]?le[e]:me[t]&&me[t][e]?me[t][e]:void 0}(e,t);if(!r)return Promise.reject(new se.a("Unsupported action"));var n=r("/".concat(t),a);return de(n).then((function(e){return e.data})).catch((function(e){return e.response&&e.response.data&&e.response.data.message?Promise.reject(new se.a(e.response.data.message,e.response.status)):Promise.reject(new se.a(e.message))}))}),pe=(fe(be),function(){return c.a.createElement(i.a,{dashboard:F,authProvider:te(oe),dataProvider:be,customSagas:[fe],loginPage:Q},c.a.createElement(u.a,C),c.a.createElement(u.a,R),c.a.createElement(u.a,D),c.a.createElement(u.a,J))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[363,1,2]]]);
//# sourceMappingURL=main.875d215b.chunk.js.map